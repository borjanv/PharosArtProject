@inherits Umbraco.Web.Mvc.UmbracoTemplatePage<ContentModels.EditItem>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
    Layout = "Master.cshtml";
    var par = Request["id"];
}
@if (!string.IsNullOrEmpty(par))
{
    @section scripts
{
        <script src="/scripts/magnific-popup.js"></script>
        <script type="text/javascript" src="jPlayer/js/jquery.transform2d.js"></script>
        <script type="text/javascript" src="jPlayer/js/jquery.grab.js"></script>
        <script type="text/javascript" src="jPlayer/js/mod.csstransforms.min.js"></script>
        <script type="text/javascript" src="jPlayer/js/circle.player.js"></script>
        <script>
            $(document).ready(function () {
                $(".fancy-box-image").colorbox({
                    rel: 'gallery',
                    scalePhotos: true,
                    maxWidth: "90%",
                    maxHeight: '90%'
                });

                // Stop the music when user closes the modal window
                $(document).bind('cbox_closed', function () {
                    $("#jquery_jplayer_1").jPlayer("stop");
                    $("#jquery_jplayer_2").jPlayer("stop");
                });

                $(".ajax").colorbox({
                    rel: 'gallery'
                });
            });
        </script>
    }
    @section header
{
        <link rel="stylesheet" href="/css/popup.css">
        <link rel="stylesheet" href="/css/video.css">
        <script type="text/javascript" src="jPlayer/js/jquery.jplayer.js"></script>
    }
    @Html.Action("Get", "EditItem", new { id = int.Parse(par) })
}
else
{
    <p>Content could not be found</p>
}
